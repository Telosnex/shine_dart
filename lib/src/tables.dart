import 'dart:typed_data';

/// Lookup tables ported from `shine/src/lib/tables.c`.

/// Equivalent to `shine_slen1_tab` in the C source.
const List<int> shineSlen1Table = <int>[
  0, 0, 0, 0, 3, 1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4,
];

/// Equivalent to `shine_slen2_tab` in the C source.
const List<int> shineSlen2Table = <int>[
  0, 1, 2, 3, 0, 1, 2, 3, 1, 2, 3, 1, 2, 3, 2, 3,
];

/// Supported samplerate values (in Hz). See `samplerates` in the C source.
const List<int> samplerates = <int>[
  44100, 48000, 32000, // MPEG-I
  22050, 24000, 16000, // MPEG-II
  11025, 12000, 8000, // MPEG-2.5
];

/// Supported bitrates (in kbps) grouped by MPEG version (2.5, reserved, II, I).
const List<List<int>> bitrates = <List<int>>[
  <int>[-1, -1, -1, -1],
  <int>[8, -1, 8, 32],
  <int>[16, -1, 16, 40],
  <int>[24, -1, 24, 48],
  <int>[32, -1, 32, 56],
  <int>[40, -1, 40, 64],
  <int>[48, -1, 48, 80],
  <int>[56, -1, 56, 96],
  <int>[64, -1, 64, 112],
  <int>[-1, -1, 80, 128],
  <int>[-1, -1, 96, 160],
  <int>[-1, -1, 112, 192],
  <int>[-1, -1, 128, 224],
  <int>[-1, -1, 144, 256],
  <int>[-1, -1, 160, 320],
  <int>[-1, -1, -1, -1],
];

/// Layer III scalefactor band indices for each samplerate.
///
/// This is the Dart translation of `shine_scale_fact_band_index`.
const List<List<int>> shineScaleFactorBandIndex = <List<int>>[
  <int>[0, 4, 8, 12, 16, 20, 24, 30, 36, 44, 52, 62, 74, 90, 110, 134, 162, 196, 238, 288, 342, 418, 576],
  <int>[0, 4, 8, 12, 16, 20, 24, 30, 36, 42, 50, 60, 72, 88, 106, 128, 156, 190, 230, 276, 330, 384, 576],
  <int>[0, 4, 8, 12, 16, 20, 24, 30, 36, 44, 54, 66, 82, 102, 126, 156, 194, 240, 296, 364, 448, 550, 576],
  <int>[0, 6, 12, 18, 24, 30, 36, 44, 54, 66, 80, 96, 116, 140, 168, 200, 238, 284, 336, 396, 464, 522, 576],
  <int>[0, 6, 12, 18, 24, 30, 36, 44, 54, 66, 80, 96, 114, 136, 162, 194, 232, 278, 330, 394, 464, 540, 576],
  <int>[0, 6, 12, 18, 24, 30, 36, 44, 45, 66, 80, 96, 116, 140, 168, 200, 238, 248, 336, 396, 464, 522, 576],
  <int>[0, 6, 12, 18, 24, 30, 36, 44, 54, 66, 80, 96, 116, 140, 168, 200, 238, 284, 336, 396, 464, 522, 576],
  <int>[0, 6, 12, 18, 24, 30, 36, 44, 54, 66, 80, 96, 116, 140, 168, 200, 238, 284, 336, 396, 464, 522, 576],
  <int>[0, 12, 24, 36, 48, 60, 72, 88, 108, 132, 160, 192, 232, 280, 336, 400, 476, 566, 568, 570, 572, 574, 576],
];

/// Synthesis window as fixed-point coefficients (`shine_enwindow` in C).
final Int32List shineEnwindow = Int32List.fromList(<int>[
  0, 0, 0, 0, 0, 0, 0, -2147, -2147, -2147, -2147, -2147, -2147, -4294, -4294,
  -4294, -4294, -6442, -6442, -6442, -8589, -8589, -10737, -10737, -12884,
  -15032, -17179, -17179, -19327, -21474, -23622, -25769, -30064, -32212,
  -36507, -38654, -42949, -45097, -49392, -53687, -60129, -64424, -68719,
  -75161, -81604, -88046, -92341, -98784, -107374, -113816, -120259, -128849,
  -135291, -141733, -150323, -156766, -165356, -173946, -180388, -186831,
  -195421, -199715, -206158, -212600, 219043, 223338, 227633, 229780, 231928,
  234075, 234075, 231928, 229780, 225485, 221190, 212600, 204010, 193273,
  180388, 167503, 150323, 130996, 109521, 85899, 57982, 30064, -2147, -36507,
  -73014, -113816, -156766, -201863, -249108, -300647, -354334, -410169,
  -470298, -530428, -594852, -661424, -727996, -796716, -867583, -940597,
  -1015759, -1088774, -1163936, -1239098, -1314259, -1389421, -1462436,
  -1533303, -1604170, -1672889, -1739461, -1801738, -1859720, -1915555,
  -1964947, -2010044, -2048699, -2080911, -2106681, -2123861, -2134598,
  -2136746, -2130303, -2113123, 2085206, 2048699, 1999307, 1939177, 1866163,
  1780263, 1683627, 1571958, 1447403, 1309965, 1157493, 994284, 813896,
  618475, 412316, 188978, -45097, -294205, -558345, -833223, -1120986,
  -1421634, -1733019, -2055141, -2385854, -2727304, -3075196, -3431678,
  -3794603, -4159675, -4531190, -4902705, -5276367, -5650029, -6019396,
  -6386616, -6747393, -7101728, -7445325, -7780333, -8100308, -8405250,
  -8695161, -8965744, -9214852, -9440338, -9642201, -9814000, -9960029,
  -10073845, -10153302, -10198399, -10204842, -10172630, -10099615, -9983651,
  -9822590, -9614284, -9358733, -9051643, -8695161, -8287139, -7823282,
  -7305739, 6732361, 6101001, 5415953, 4670776, 3867618, 3006477, 2085206,
  1108101, 70866, -1022202, -2173253, -3380139, -4642859, -5957119, -7325066,
  -8744553, -10213432, -11729555, -13290776, -14897094, -16542066, -18225693,
  -19945828, -21698174, -23478438, -25286619, -27118423, -28967406, -30835717,
  -32714765, -34602404, -36494337, -38388417, -40280350, -42163693,
  -44038447, -45896020, -47736413, -49551037, -51339891, -53096533,
  -54818815, -56502442, -58140972, -59732257, -61274150, -62760209,
  -64188286, -65556233, -66857608, -68090263, -69252052, -70340826,
  -71352291, -72284299, -73134703, -73901354, -74582107, -75176960,
  -75681618, -76096083, -76420353, -76652281, -76791867, 76839112, 76791867,
  76652281, 76420353, 76096083, 75681618, 75176960, 74582107, 73901354,
  73134703, 72284299, 71352291, 70340826, 69252052, 68090263, 66857608,
  65556233, 64188286, 62760209, 61274150, 59732257, 58140972, 56502442,
  54818815, 53096533, 51339891, 49551037, 47736413, 45896020, 44038447,
  42163693, 40280350, 38388417, 36494337, 34602404, 32714765, 30835717,
  28967406, 27118423, 25286619, 23478438, 21698174, 19945828, 18225693,
  16542066, 14897094, 13290776, 11729555, 10213432, 8744553, 7325066, 5957119,
  4642859, 3380139, 2173253, 1022202, -70866, -1108101, -2085206, -3006477,
  -3867618, -4670776, -5415953, -6101001, 6732361, 7305739, 7823282, 8287139,
  8695161, 9051643, 9358733, 9614284, 9822590, 9983651, 10099615, 10172630,
  10204842, 10198399, 10153302, 10073845, 9960029, 9814000, 9642201, 9440338,
  9214852, 8965744, 8695161, 8405250, 8100308, 7780333, 7445325, 7101728,
  6747393, 6386616, 6019396, 5650029, 5276367, 4902705, 4531190, 4159675,
  3794603, 3431678, 3075196, 2727304, 2385854, 2055141, 1733019, 1421634,
  1120986, 833223, 558345, 294205, 45097, -188978, -412316, -618475, -813896,
  -994284, -1157493, -1309965, -1447403, -1571958, -1683627, -1780263,
  -1866163, -1939177, -1999307, -2048699, 2085206, 2113123, 2130303,
  2136746, 2134598, 2123861, 2106681, 2080911, 2048699, 2010044, 1964947,
  1915555, 1859720, 1801738, 1739461, 1672889, 1604170, 1533303, 1462436,
  1389421, 1314259, 1239098, 1163936, 1088774, 1015759, 940597, 867583,
  796716, 727996, 661424, 594852, 530428, 470298, 410169, 354334, 300647,
  249108, 201863, 156766, 113816, 73014, 36507, 2147, -30064, -57982, -85899,
  -109521, -130996, -150323, -167503, -180388, -193273, -204010, -212600,
  -221190, -225485, -229780, -231928, -234075, -234075, -231928, -229780,
  -227633, -223338, 219043, 212600, 206158, 199715, 195421, 186831, 180388,
  173946, 165356, 156766, 150323, 141733, 135291, 128849, 120259, 113816,
  107374, 98784, 92341, 88046, 81604, 75161, 68719, 64424, 60129, 53687,
  49392, 45097, 42949, 38654, 36507, 32212, 30064, 25769, 23622, 21474, 19327,
  17179, 17179, 15032, 12884, 10737, 10737, 8589, 8589, 6442, 6442, 6442,
  4294, 4294, 4294, 4294, 2147, 2147, 2147, 2147, 2147, 2147, 0, 0, 0, 0, 0, 0,
]);
